var sharerConstraints = {
    /* Mime types allowed for sharing in Chromium: https://docs.google.com/document/d/1tKPkHA5nnJtmh2TgqWmGSREUzXgMUFDL6yMdVZHqUsg/edit */
    mimeTypesChromium: ['image/avif', 'application/pdf', 'audio/flac','audio/mpeg','audio/ogg','audio/wav','audio/webm','audio/x-m4a','image/bmp','image/gif','image/jpeg','image/jpg','image/png','image/svg+xml','image/tiff','image/webp','image/x-icon','image/x-xbitmap','text/css','text/csv','text/html','text/plain','video/mp4','video/mpeg','video/ogg','video/webm'],

    canShare: function (format) {
        if (!navigator.canShare) return false;

        //Test with empty file:
        if (!navigator.canShare({
            files: [
                new File([], 'test.' + format.name, { type: format.mime })
            ]
        })) return false;

        //https://crbug.com/1101290
        if (
            navigator.userAgent.indexOf("Chrome") !== -1 && 
            !this.mimeTypesChromium.includes(format.mime)
        ) return false;

        return true;
    }
};