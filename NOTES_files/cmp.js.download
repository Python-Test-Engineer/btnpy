(()=>{"use strict";var t={490:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t){this.handlers=[],this.byId=new Map,this.name=t}executeHandlers(t,e){var a;e&&(null===(a=this.byId.get(e))||void 0===a||a.handlers.forEach((a=>a(Object.assign({},t),e)))),this.handlers.forEach((a=>a(Object.assign({},t),e)))}removeHandler(t,e){var a;const s=(null===(a=this.byId.get(""+e))||void 0===a?void 0:a.handlers)||this.handlers,n=s.indexOf(t);n>=0&&s.splice(n,1)}}},833:function(t,e,a){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=s(a(490));e.default=class{constructor(){this.isReady=!0,this.events=new Map,this.eventHistory=[]}on(t,e,a){let s=this.events.get(t);s||(s=new n.default(t),this.events.set(t,s));let i=s.handlers;if(a){let t=s.byId.get(a);t||(t={handlers:[]},s.byId.set(a,t)),i=t.handlers}i.push(e)}off(t,e,a){var s;null===(s=this.events.get(t))||void 0===s||s.removeHandler(e,a)}fire(t,e,a){var s;e&&Object.entries(e).forEach((([t,a])=>{void 0===a&&delete e[t]})),this.eventHistory.push({eventName:t,data:Object.assign({timestamp:Date.now()},e),id:a}),null===(s=this.events.get(t))||void 0===s||s.executeHandlers(e,a)}history(t){return t?this.eventHistory.filter((e=>e.eventName===t)):this.eventHistory}}},343:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Global=void 0;e.Global=class{constructor(){this.sas=window.sas=window.sas||{},this.isDebug=this._isDebug()}setEids(t){"function"==typeof this.sas.setEids?this.sas.setEids([t]):this.sas.cmd.unshift((()=>this.sas.setEids([t])))}removeEids(t){"function"==typeof this.sas.removeEids?this.sas.removeEids(t):this.sas.cmd.push((()=>this.sas.removeEids(t)))}_log(t,e,a=""){(e||this.isDebug)&&console[e||"log"]("%cequativ","background:#fe5000; border-radius:2px; color:#feffff; font-family:lato,sans-serif; padding:1px 3px;",t,a)}isString(t){return"string"==typeof t||t instanceof String}isNonEmptyString(t){return Boolean(t)&&this.isString(t)}isObjectEmpty(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t&&t&&0===Object.keys(t).length&&Object.getPrototypeOf(t)===Object.prototype}_isDebug(){return"true"===new URLSearchParams(window.location.search).get("sas_debug")}}},683:function(t,e,a){var s=this&&this.__awaiter||function(t,e,a,s){return new(a||(a=Promise))((function(n,i){function d(t){try{o(s.next(t))}catch(t){i(t)}}function r(t){try{o(s.throw(t))}catch(t){i(t)}}function o(t){var e;t.done?n(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(d,r)}o((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SasIabApi=void 0;const n=a(882);class i{constructor(t,e){this.apiWasFound=!1,this.apiAnsweredOk=!1,this.eventMessageListenerAdded=!1,this.apiCallbacks={},this.myCmpCallbackFinished=void 0,this.maxSearchRetry=50,this.doubleCallbackTime=10,this.retryNumber=0,this.retryInterval=0,this.name=t.name,this.sasCookieName=t.sasCookieName,this.sasAddtlCookieName=t.sasAddtlCookieName,this.version=t.version,this.getConsentFunction=t.getConsentFunction,this.apiFunctionName=t.apiFunctionName,this.consentObjectConsentDataName=t.consentObjectConsentDataName,this.consentObjectAdditionalConsentDataName=t.consentObjectAdditionalConsentDataName,this.apiLocator=t.apiLocator,this.sentMessage=t.sentMessage,this.postMessageReturnObjectName=t.postMessageReturnObjectName,e&&(this.myCmpCallbackFinished=()=>e()),this.lastCallbackResult={id:"",addtlConsent:"",eventStatus:"",gdprApplies:void 0,timeStamp:0,vendor:{consents:{},legitimateInterests:{}}}}get gdprApplies(){return this._gdprApplies}cmpCallback(t,e){var a;if(!e||!t||void 0===t[this.consentObjectConsentDataName]||null===t[this.consentObjectConsentDataName])return void window.sas.events.fire("ApiAnswered Wrong answer",{consent:t,success:e,failType:"Wrong answer",version:this.version},this.name);if("stub"===t.cmpStatus&&null!==window.sas.localStorage.getItem(this.sasCookieName))return void window.sas.events.fire("ApiAnswered Stub answer",{consent:t,success:e,failType:"Ignoring stub data",version:this.version},this.name);this.apiAnsweredOk=!0,this._gdprApplies=t.gdprApplies;const s={consentObject:t,name:this.consentObjectConsentDataName};if(t[this.consentObjectConsentDataName]&&window.sas.localStorage.setItem(this.sasCookieName,t[this.consentObjectConsentDataName]),this.consentObjectAdditionalConsentDataName&&t[this.consentObjectAdditionalConsentDataName]&&this.sasAddtlCookieName){let e=t[this.consentObjectAdditionalConsentDataName];Array.isArray(e)&&(e=JSON.stringify(e)),window.sas.localStorage.setItem(this.sasAddtlCookieName,e),s.additionalConsent=this.consentObjectAdditionalConsentDataName}window.sas.events.fire("ApiAnswered Valid answer",s,this.name),null===(a=this.myCmpCallbackFinished)||void 0===a||a.call(this)}callApiLocal(){return s(this,void 0,void 0,(function*(){const t=window[this.apiFunctionName];if(void 0!==t&&"[object Function]"===Object.prototype.toString.call(t)){if(this.apiWasFound=!0,window.sas.events.fire("ApiCalled",{location:"Same Iframe",version:this.version},this.name),"__gpp"===this.apiFunctionName){const e=()=>{const e=t("getGPPData");this.cmpCallback(e,null!=e)},a=Number((yield(0,n.betterGpp)("ping")).gppVersion||1);a<1.1&&e(),t(this.getConsentFunction,(t=>{a<1.1?e():this.cmpCallback(null==t?void 0:t.pingData,null!=(null==t?void 0:t.pingData))}))}else t(this.getConsentFunction,this.version,((t,e)=>{this.cmpCallback(t,e)}));return!0}return!1}))}callApiInFrame(){let t,e=window;for(;!t;){try{e.frames[this.apiLocator]&&(t=e)}catch(t){}if(e===window.top)break;e=e.parent}if(t){this.apiWasFound=!0,window.sas.events.fire("ApiFrameFound",{version:this.version},this.name);const e=(e,a,s)=>{const n="smartjs"+Math.random();this.apiCallbacks[n]=s,this.sendPostMessage(e,a,n,t)};if(this.eventMessageListenerAdded||(window.addEventListener("message",(t=>{this.readPostMessageResponse(t)})),this.eventMessageListenerAdded=!0),window.sas.events.fire("ApiCalled",{location:"Different iframe",version:this.version},this.name),"__gpp"===this.apiFunctionName){const a="smartjsPing"+Math.random();this.apiCallbacks[a]=t=>{var a,s;((null===(a=t.returnValue)||void 0===a?void 0:a.gppVersion)?Number(null===(s=t.returnValue)||void 0===s?void 0:s.gppVersion):1)<1.1&&e("getGPPData",void 0,((t,e)=>{this.cmpCallback(t,e)}))},this.sendPostMessage("ping",null,a,t)}return e(this.getConsentFunction,void 0,((t,e)=>{this.cmpCallback(t,e)})),!0}return!1}sendPostMessage(t,e,a,s){const n={};n[this.sentMessage]={command:t,parameter:e,callId:a,version:this.version},null==s||s.postMessage(n,"*")}readPostMessageResponse(t){const e="string"==typeof t.data&&-1!==t.data.indexOf(this.postMessageReturnObjectName)?JSON.parse(t.data):t.data;if(e[this.postMessageReturnObjectName]){const a=e[this.postMessageReturnObjectName];"function"!=typeof this.apiCallbacks[a.callId]||this.isCallbackDouble(a.callId,t)||(this.assignLastCallback(a.callId,t),this.apiCallbacks[a.callId](a.returnValue,a.success,this.version))}}isCallbackDouble(t,e){var a,s,n;let i=!1;const d=null===(s=null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.__tcfapiReturn)||void 0===s?void 0:s.returnValue;return t===this.lastCallbackResult.id&&(null==e?void 0:e.timeStamp)-this.lastCallbackResult.timeStamp<this.doubleCallbackTime&&this.lastCallbackResult.addtlConsent===(null==d?void 0:d.addtlConsent)&&this.lastCallbackResult.eventStatus===(null==d?void 0:d.eventStatus)&&this.lastCallbackResult.gdprApplies===(null==d?void 0:d.gdprApplies)&&JSON.stringify(this.lastCallbackResult.vendor.consents)===JSON.stringify(null===(n=null==d?void 0:d.vendor)||void 0===n?void 0:n.consents)&&(i=!0),i}assignLastCallback(t,e){var a,s;const n=null===(s=null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.__tcfapiReturn)||void 0===s?void 0:s.returnValue;this.lastCallbackResult.id=t,this.lastCallbackResult.addtlConsent=null==n?void 0:n.addtlConsent,this.lastCallbackResult.eventStatus=null==n?void 0:n.eventStatus,this.lastCallbackResult.gdprApplies=null==n?void 0:n.gdprApplies,this.lastCallbackResult.timeStamp=null==e?void 0:e.timeStamp,(null==n?void 0:n.vendor)&&(this.lastCallbackResult.vendor=Object.assign({},null==n?void 0:n.vendor))}tryCallApi(t){return s(this,void 0,void 0,(function*(){(yield this.callApiLocal())||(t%10==0&&window.sas.events.fire("ApiNotFoundInFrame",{retryNumber:t},this.name),this.callApiInFrame())}))}searchApiInterval(){return s(this,void 0,void 0,(function*(){this.apiWasFound&&this.apiAnsweredOk||(this.retryNumber%10==0&&window.sas.events.fire("ApiSearch",{retryNumber:this.retryNumber},this.name),yield this.tryCallApi(this.retryNumber)),(this.retryNumber>this.maxSearchRetry||this.apiWasFound&&this.apiAnsweredOk)&&clearInterval(this.retryInterval),this.retryNumber++}))}searchApi(){this.retryInterval=window.setInterval((()=>{this.searchApiInterval()}),500),this.searchApiInterval()}}e.SasIabApi=i,window.SasIabApi=i},882:function(t,e){var a=this&&this.__awaiter||function(t,e,a,s){return new(a||(a=Promise))((function(n,i){function d(t){try{o(s.next(t))}catch(t){i(t)}}function r(t){try{o(s.throw(t))}catch(t){i(t)}}function o(t){var e;t.done?n(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(d,r)}o((s=s.apply(t,e||[])).next())}))};function s(t,e){return new Promise((a=>{const s=window.__gpp(t,((t,e)=>{e&&a(t)}),e);void 0!==s&&a(s)}))}function n(t){return a(this,void 0,void 0,(function*(){if(yield s("hasSection",t)){const e=yield s("getSection",t);return Array.isArray(e)?e[0]:e}return null}))}Object.defineProperty(e,"__esModule",{value:!0}),e.extendedGetSection=e.checkAndGetSection=e.betterGpp=e.ESection=void 0,function(t){t[t.tcfeuv2=2]="tcfeuv2",t[t.uspv1=6]="uspv1",t[t.usnat=7]="usnat",t[t.usca=8]="usca",t[t.usva=9]="usva",t[t.usco=10]="usco",t[t.usut=11]="usut",t[t.usct=12]="usct",t[t.usfl=13]="usfl",t[t.usmt=14]="usmt",t[t.usor=15]="usor",t[t.ustx=16]="ustx"}(e.ESection||(e.ESection={})),e.betterGpp=s,e.checkAndGetSection=n,e.extendedGetSection=function(t){return a(this,void 0,void 0,(function*(){return(yield n(t))||(yield n(t+"v1"))}))}},417:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default=class{isAvailable(){let t=!1;try{const e="smart_is_localstorage_available";localStorage.setItem(e,"1"),"1"===localStorage.getItem(e)&&(localStorage.removeItem(e),t=!0)}catch(t){}return this.isAvailable=()=>t,t}getItem(t){return this.isAvailable()?localStorage.getItem(t):null}setItem(t,e){return!!this.isAvailable()&&(localStorage.setItem(t,e),!0)}removeItem(t){return!!this.isAvailable()&&(localStorage.removeItem(t),!0)}}},624:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EKey=e.Tracing=void 0;const s=a(343);class n extends s.Global{constructor(){super(),this.objMap=new Map,this.samplingRate=this._isDebug()?1:1e4,this.apiEndpoint="https://apm.smartadserver.com:443/v1/traces",this.sas.tracing.setTraceHeaders=(t,e)=>this.setTraceHeaders(t,e),this.sas.tracing.add=(t,e)=>this.add(t,e),this.sas.tracing.addMany=(t,e)=>this.addMany(t,e),this.sas.tracing.sendTrace=(t,e)=>this.sendTrace(t,e)}sendTrace(t,e){const a=this.objMap.get(t);if(!(a&&a[i.shouldSendTrace]&&a[i.traceId]&&a[i.parentId]&&a[i.adCallStart]&&a[i.adCallEnd]&&a[i.beforeRender]&&(a[i.onAd]||a[i.noAd])))return;const s=this.getEvents(a),n=this.getTrace(s,{startTime:a[i.adCallStart],endTime:a[i.adCallEnd]},{startTime:a[i.beforeRender],endTime:a[i.onAd]||a[i.noAd]},e,a[i.traceId],a[i.parentId]);fetch(this.apiEndpoint,{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}}),this._log("trace",void 0,n)}getEvents(t){return Object.entries(t).filter((([t])=>[i.beforeRender,i.load,i.noAd,i.onAd,i.render].includes(t))).map((([t,e])=>({name:t,time:e})))}getTrace(t,e,a,s,n,i){return{resourceSpans:[{resource:{attributes:[{key:"service.name",value:{stringValue:"smartjs"}},{key:"service.version",value:{stringValue:"1.31.0"}}]},scopeSpans:[{spans:[{name:"render",traceId:n,spanId:this.genRandomHex(16),parentSpanId:i,startTimeUnixNano:1e6*a.startTime,endTimeUnixNano:1e6*a.endTime,kind:1,attributes:[{key:"site.id",value:{intValue:s.siteId}},{key:"page.id",value:{intValue:s.pageId}},{key:"format.id",value:{intValue:s.formatId}},{key:"tag.id",value:{stringValue:s.tagId}},{key:"target",value:{stringValue:s.target}}],events:t.map((t=>({name:t.name,timeUnixNano:1e6*t.time})))},{name:"adcall",traceId:n,spanId:i,startTimeUnixNano:1e6*e.startTime,endTimeUnixNano:1e6*e.endTime,kind:3,attributes:[{key:"peer.service",value:{stringValue:"delivery"}}]}]}]}]}}addMany(t,e){const a=performance.timeOrigin+performance.now();for(const s of e)this.add(t,s.tagId,a)}genRandomHex(t){return[...Array(t)].map((()=>Math.floor(16*Math.random()).toString(16))).join("")}setTraceHeaders(t,e){this.addMany(i.adCallStart,e);const a=this.genRandomHex(32),s=this.genRandomHex(16),n=this.isTraceEligible(a,this.samplingRate);this.addData(e,a,s,n),t.setRequestHeader("traceparent",`00-${a}-${s}-${n?"01":"00"}`),t.setRequestHeader("tracestate","eqtv-source=smartjs"+(this._isDebug()?",eqtv-nosampling=true":""))}isTraceEligible(t,e){return this.fnv1a(t)%e==0}fnv1a(t){let e=2166136261;for(let a=0;a<t.length;a++)e^=t.charCodeAt(a),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0}addData(t,e,a,s){for(const n of t)this.add(i.traceId,n.tagId,e),this.add(i.parentId,n.tagId,a),this.add(i.shouldSendTrace,n.tagId,s)}add(t,e,a){this.objMap.set(e,Object.assign(Object.assign({},this.objMap.get(e)),{[t]:void 0===a?performance.timeOrigin+performance.now():a}))}}var i;e.Tracing=n,function(t){t.adCallStart="adCallStart",t.adCallEnd="adCallEnd",t.beforeRender="beforeRender",t.noAd="noAd",t.onAd="onAd",t.load="load",t.render="render",t.shouldSendTrace="shouldSendTrace",t.traceId="traceId",t.parentId="parentId"}(i=e.EKey||(e.EKey={}))},418:function(t,e,a){var s,n,i,d,r=this&&this.__createBinding||(Object.create?function(t,e,a,s){void 0===s&&(s=a);var n=Object.getOwnPropertyDescriptor(e,a);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[a]}}),Object.defineProperty(t,s,n)}:function(t,e,a,s){void 0===s&&(s=a),t[s]=e[a]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),l=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)"default"!==a&&Object.prototype.hasOwnProperty.call(t,a)&&r(e,t,a);return o(e,t),e},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const h=c(a(833)),u=c(a(417)),p=c(a(532)),g=l(a(581)),v=window.sas=window.sas||{};v.utils=v.utils||{},v.consent=v.consent||{},v.cmd=v.cmd||[],v.livePreview=v.livePreview||{},v.tracing=v.tracing||{},v.debugMode=v.debugMode||{},v.debugMode.logsQueue=v.debugMode.logsQueue||[],v.debugMode.bannersQueue=v.debugMode.bannersQueue||[],v.events=(null===(s=v.events)||void 0===s?void 0:s.isReady)?v.events:new h.default,v.localStorage=null!==(n=v.localStorage)&&void 0!==n?n:new u.default,v.Tag=null!==(i=v.Tag)&&void 0!==i?i:p.default,v.common=null!==(d=v.common)&&void 0!==d?d:g,e.default=v},532:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EScriptType=e.ECallType=void 0;const s=a(624),n=a(581);var i,d;e.default=class{constructor(t){this.instances=[],this.hbData=null,window.sas.events.on("ad",(t=>this.onAd({formatId:t.formatId,tagId:t.tagId})),t),window.sas.events.on("load",(()=>this.onLoad()),t),window.sas.events.on("noad",(t=>{const e={formatId:t.formatId,tagId:t.tagId,hbRenderUrls:t.hbRenderUrls||void 0};e.hbRenderUrls||delete e.hbRenderUrls,this.onNoad(e)}),t),window.sas.events.on("error",(t=>this.onError({formatId:t.formatId,tagId:t.tagId,instance:t.instance})),t),window.sas.events.on("render",(t=>this.onRender({formatId:t.formatId,tagId:t.tagId,instance:t.instance})),t),window.sas.events.on("beforeRender",(t=>this.onBeforeRender({formatId:t.formatId,tagId:t.tagId})),t),window.sas.events.on("hbRender",(t=>this.onHbRender({success:t.success})),t),window.sas.events.on("request",(t=>this.onRequest({formatId:t.formatId,tagId:t.tagId,instance:t.instance})),t)}onAd(t){window.sas.tracing.add(s.EKey.onAd,t.tagId),this.hasAd=!0,this.options&&this.options.onAd&&this.options.onAd(t)}onLoad(){var t,e;const a=document.getElementById(this.ad.tagId);a&&(this.hasAd=this.hasAd||a.childNodes.length>1,window.sas.tracing.add(s.EKey.load,this.ad.tagId),this.hasAd&&window.sas.tracing.sendTrace(this.ad.tagId,{siteId:this.ad.siteId,pageId:this.ad.pageId,pageName:this.ad.pageName?this.ad.pageName:"",formatId:this.ad.formatId,tagId:this.ad.tagId,target:this.ad.target}),null===(e=null===(t=this.options)||void 0===t?void 0:t.onLoad)||void 0===e||e.call(t,{formatId:this.ad.formatId,tagId:this.ad.tagId,hasAd:this.hasAd}))}onNoad(t){if(window.sas.tracing.add(s.EKey.noAd,t.tagId),window.sas.tracing.sendTrace(t.tagId,{siteId:this.ad.siteId,pageId:this.ad.pageId,pageName:this.ad.pageName?this.ad.pageName:"",formatId:this.ad.formatId,tagId:this.ad.tagId,target:this.ad.target}),this.displayData&&this.callType==i.ONECALL&&this.displayData.scriptNoad){const t=this.getHeaderBiddingData();t&&(this.displayData.scriptNoad=(0,n.addHBDataToUrl)(this.displayData.scriptNoad,t)),(new Image).src=this.displayData.scriptNoad}t.hbRenderUrls&&t.hbRenderUrls.hbRenderFailedUrl&&(this.hbRenderUrls=t.hbRenderUrls,t.hbRenderUrls=void 0),this.options&&this.options.onNoad&&this.options.onNoad(t)}onError(t){this.options&&this.options.onError&&this.options.onError(t)}onRender(t){window.sas.tracing.add(s.EKey.render,t.tagId)}onBeforeRender(t){window.sas.tracing.add(s.EKey.beforeRender,t.tagId),this.options&&this.options.beforeRender&&this.options.beforeRender(t)}onHbRender(t){this.hbRenderUrls&&(t.success?(new Image).src=this.hbRenderUrls.hbRenderSuccessUrl:(new Image).src=this.hbRenderUrls.hbRenderFailedUrl,this.hbRenderUrls=void 0)}onRequest(t){this.options&&this.options.request&&this.options.request(t)}setHeaderBiddingWinner(t){this.hbData=t}getHeaderBiddingData(){if(this.hbData&&!isNaN(this.hbData.cpm)){const t=this.hbData;return this.hbData=null,t}return null}clean(){const t=document.getElementById(this.ad.tagId);this.options&&this.options.onClean&&this.options.onClean(this.ad.formatId,t),window.sas.events.fire("clean",{formatId:this.ad.formatId,instance:this.ad.instance,tagId:this.ad.tagId},this.ad.tagId),t&&(t.innerHTML="")}onCall(t,e,a){this.callType=t,this.ad=e,this.options=a}reset(t,e){this.displayData=void 0,this.hbRenderUrls=void 0,t?this.renderStatus=null:"rendered"==this.renderStatus&&(this.renderStatus="pending"),window.sas.events.fire("reset",{formatId:this.ad.formatId,instance:this.ad.instance,tagId:this.ad.tagId,hardReset:t},this.ad.tagId),e&&this.instances&&this.instances.forEach((e=>e.reset(t,!1)))}render(){if("rendered"===this.renderStatus)return;if(!this.displayData)return void(this.renderStatus="pending");this.renderStatus="rendered",this.clean();const t={formatId:this.ad.formatId,instance:this.ad.instance,tagId:this.ad.tagId,hbRenderUrls:this.displayData.hbRenderFailedUrl?{hbRenderFailedUrl:this.displayData.hbRenderFailedUrl,hbRenderSuccessUrl:this.displayData.hbRenderSuccessUrl}:void 0};window.sas.events.fire("beforeRender",t,this.ad.tagId);const e=()=>{window.sas.events.fire("load",t,this.ad.tagId)},a=document.getElementById(this.ad.tagId);if(window.sas.debugMode.addBanner&&a&&window.sas.debugMode.addBanner({adSlot:a,adInfo:{"Network ID":this.options.networkId,"Site ID":this.ad.siteId,"Page ID":this.ad.pageId,"Format ID":this.ad.formatId,"Tag ID":this.ad.tagId,Targeting:this.ad.target}}),!this.displayData.scriptType)return e(),window.sas.events.fire("noad",t,this.ad.tagId),void(window.sas.debugMode.addLog&&a&&window.sas.debugMode.addLog({adObj:this.ad,isAd:!1,adSlot:a}));window.sas.debugMode.addLog&&a&&window.sas.debugMode.addLog({adObj:this.ad,isAd:!0,adSlot:a}),a?(this.handleScriptType(a,e,(()=>{window.sas.events.fire("error",t,this.ad.tagId),window.sas.events.fire("noad",t,this.ad.tagId)})),(0,n.getLazyLoadingSignal)(String(this.ad.formatId))&&window.sas.events.fire("request",t,this.ad.tagId),window.sas.events.fire("render",t,this.ad.tagId)):window.sas.events.fire("error",t,this.ad.tagId)}handleScriptType(t,e,a){var s,i;switch(null===(s=this.displayData)||void 0===s?void 0:s.scriptType){case d.SCRIPT:{const s=this.getHeaderBiddingData();s&&this.displayData.scriptNoad&&(this.displayData.scriptNoad=(0,n.addHBDataToUrl)(this.displayData.scriptNoad,s)),(0,n.appendScript)(t,this.displayData.scriptSrc,e,a,this.hbData,(0,n.getLazyLoadingSignal)(String(this.ad.formatId)),this.ad.tagId);break}case d.PASSBACK:window.sas.passback({formatId:this.ad.formatId,tagId:this.ad.tagId,chain:this.displayData.chain,noadUrl:this.ad.noadUrl,pageId:this.ad.pageId,siteId:this.ad.siteId});break;case d.CONTENT:"application/javascript"===this.displayData.contentType&&(0,n.appendScriptContent)(t,this.displayData.content,this.ad.tagId),e();break;default:throw new Error("Unsupported script type "+(null===(i=this.displayData)||void 0===i?void 0:i.scriptType))}}},function(t){t.STD="std",t.IFRAME="iframe",t.ONECALL="onecall",t.PASSBACK="passback"}(i=e.ECallType||(e.ECallType={})),function(t){t.IFRAME="iframe",t.SCRIPT="script",t.PASSBACK="passback",t.CONTENT="content"}(d=e.EScriptType||(e.EScriptType={}))},581:(t,e)=>{function a(t,e){return t+`&hb_cpm=${e.cpm}&hb_bid=${e.bidder}&hb_ccy=${e.currency}${e.dealId?`&hb_dealid=${e.dealId}`:""}`}function s(){return window.sas.localStorage.getItem("sas_usprivacy")||null}function n(){if(window.sas.publisherDefinedConsent)return window.sas.publisherDefinedConsent;const t=window.sas.localStorage.getItem("sas_euconsent");return window.sas.localStorage.getItem("sas_euconsent_v2")||t}function i(){return window.sas.utils.isAddtlConsentBlocked()?null:window.sas.localStorage.getItem("sas_addtl_euconsent_v2")||null}function d(t){var e,a;let d;try{d=new URL(t)}catch(e){return t}const r=n();r&&d.searchParams.set("gdpr_consent",r);const o=i();o&&d.searchParams.set("addtl_consent",o);const l=s();l&&d.searchParams.set("us_privacy",l);const c=window.sas.localStorage.getItem("sas_gpp");c&&d.searchParams.set("gpp",c);const h=window.sas.localStorage.getItem("sas_gpp_sid");if(h)try{d.searchParams.set("gpp_sid",JSON.parse(h))}catch(t){}const u=window.sas.localStorage.getItem("eqtv_cmpvalid");u&&d.searchParams.set("cmpvalid",u);const p=window.sas.updateTarget(null!==(e=d.searchParams.get("tgt"))&&void 0!==e?e:void 0,null!==(a=d.searchParams.get("tag"))&&void 0!==a?a:"");return p&&d.searchParams.set("tgt",p),d.toString()}Object.defineProperty(e,"__esModule",{value:!0}),e.appendScriptContent=e.appendScript=e.updateConsentDataInUrl=e.getLazyLoadingSignal=e.getAddtlConsentData=e.getGdprConsentData=e.getUsPrivacyConsentData=e.addHBDataToUrl=void 0,e.addHBDataToUrl=a,e.getUsPrivacyConsentData=s,e.getGdprConsentData=n,e.getAddtlConsentData=i,e.getLazyLoadingSignal=function(t){return!(!window.sas.lazyLoading||!window.sas.lazyLoading.formats||0!==window.sas.lazyLoading.formats.length&&!window.sas.lazyLoading.formats.includes(parseInt(t)))},e.updateConsentDataInUrl=d,e.appendScript=function(t,e,s,n,i,r,o){const l=document.createElement("script");l.id="sas_script_"+o,l.type="text/javascript";let c="function"==typeof e?e():e;i&&(c=a(c,i)),r&&(c=d(c)),l.src=c,l.async=!0,l.addEventListener("load",s),l.addEventListener("error",n),t.appendChild(l)},e.appendScriptContent=function(t,e,a){const s=document.createElement("script");s.id="sas_script_"+a,s.text=e,t.appendChild(s)}}},e={};function a(s){var n=e[s];if(void 0!==n)return n.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,a),i.exports}(()=>{a(418);const t=a(683)})()})();